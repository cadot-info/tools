<?php

declare(strict_types=1);

namespace PackageVersions;

use Composer\InstalledVersions;
use OutOfBoundsException;

class_exists(InstalledVersions::class);

/**
 * This class is generated by composer/package-versions-deprecated, specifically by
 * @see \PackageVersions\Installer
 *
 * This file is overwritten at every run of `composer install` or `composer update`.
 *
 * @deprecated in favor of the Composer\InstalledVersions class provided by Composer 2. Require composer-runtime-api:^2 to ensure it is present.
 */
final class Versions
{
    /**
     * @deprecated please use {@see self::rootPackageName()} instead.
     *             This constant will be removed in version 2.0.0.
     */
    const ROOT_PACKAGE_NAME = 'cadot.info/symfony-testing-tools';

    /**
     * Array of all available composer packages.
     * Dont read this array from your calling code, but use the \PackageVersions\Versions::getVersion() method instead.
     *
     * @var array<string, string>
     * @internal
     */
    const VERSIONS          = array (
  'composer/package-versions-deprecated' => 'dev-master@1927b0a81e48643ca45c4a55b34a7645b04f3acc',
  'doctrine/instantiator' => '1.5.x-dev@6410c4b8352cb64218641457cef64997e6b784fb',
  'friendsofphp/proxy-manager-lts' => '1.x-dev@b6c48150c32e0704c0394301f47a0ec4890cf05a',
  'laminas/laminas-code' => '4.5.x-dev@e9e2dcc47159900b4187b585aaf3fd8380dc8946',
  'monolog/monolog' => 'dev-main@f19a2ae873d42f4494f3fb29de9dadb91a3f7601',
  'myclabs/deep-copy' => '1.x-dev@776f831124e9c62e1a2c601ecc52e776d8bb7220',
  'nikic/php-parser' => 'v4.13.0@50953a2691a922aa1769461637869a0a2faa3f53',
  'phar-io/manifest' => 'dev-master@97803eca37d319dfa7826cc2437fc020857acb53',
  'phar-io/version' => '3.1.0@bae7c545bef187884426f042434e561ab1ddb182',
  'php-webdriver/webdriver' => '1.12.0@99d4856ed7dffcdf6a52eccd6551e83d8d557ceb',
  'phpdocumentor/reflection-common' => 'dev-master@a0eeab580cbdf4414fef6978732510a36ed0a9d6',
  'phpdocumentor/reflection-docblock' => 'dev-master@622548b623e81ca6d78b721c5e029f4ce664f170',
  'phpdocumentor/type-resolver' => '1.x-dev@2c26b0e4a925d571d1ca2757a65c14c6dc00898f',
  'phpspec/prophecy' => 'dev-master@d86dfc2e2a3cd366cee475e52c6bb3bbc371aa0e',
  'phpunit/php-code-coverage' => '9.2.x-dev@cf04e88a2e3c56fc1a65488afd493325b4c1bc3e',
  'phpunit/php-file-iterator' => '3.0.x-dev@d7e633e95043246c5370e96d4cd17aa2cc79ab78',
  'phpunit/php-invoker' => '3.1.1@5a10147d0aaf65b58940a0b72f71c9ac0423cc67',
  'phpunit/php-text-template' => '2.0.4@5da5f67fc95621df9ff4c4e5a84d6a8a2acf7c28',
  'phpunit/php-timer' => '5.0.3@5a63ce20ed1b5bf577850e2c4e87f4aa902afbd2',
  'phpunit/phpunit' => '9.5.x-dev@2c097bce07524d670ba62a85bfb572030a0edb7d',
  'phpunit/phpunit-selenium' => '9.0.0@41711edd4dfcc5a0db2f8a22da6d2ddc908da741',
  'psr/container' => '1.1.x-dev@8622567409010282b7aeebe4bb841fe98b58dcaf',
  'psr/event-dispatcher' => 'dev-master@aa4f89e91c423b516ff226c50dc83f824011c253',
  'psr/http-message' => 'dev-master@efd67d1dc14a7ef4fc4e518e7dee91c271d524e4',
  'psr/link' => '1.0.0@eea8e8662d5cd3ae4517c9b864493f59fca95562',
  'psr/log' => '1.1.4@d49695b909c3b7628b6289db5479a1c204601f11',
  'sebastian/cli-parser' => '1.0.1@442e7c7e687e42adc03470c7b668bc4b2402c0b2',
  'sebastian/code-unit' => '1.0.8@1fc9f64c0927627ef78ba436c9b17d967e68e120',
  'sebastian/code-unit-reverse-lookup' => '2.0.3@ac91f01ccec49fb77bdc6fd1e548bc70f7faa3e5',
  'sebastian/comparator' => '4.0.6@55f4261989e546dc112258c7a75935a81a7ce382',
  'sebastian/complexity' => '2.0.2@739b35e53379900cc9ac327b2147867b8b6efd88',
  'sebastian/diff' => '4.0.4@3461e3fccc7cfdfc2720be910d3bd73c69be590d',
  'sebastian/environment' => '5.1.3@388b6ced16caa751030f6a69e588299fa09200ac',
  'sebastian/exporter' => '4.0.3@d89cc98761b8cb5a1a235a6b703ae50d34080e65',
  'sebastian/global-state' => '5.0.3@23bd5951f7ff26f12d4e3242864df3e08dec4e49',
  'sebastian/lines-of-code' => '1.0.3@c1c2e997aa3146983ed888ad08b15470a2e22ecc',
  'sebastian/object-enumerator' => '4.0.4@5c9eeac41b290a3712d88851518825ad78f45c71',
  'sebastian/object-reflector' => '2.0.4@b4f479ebdbf63ac605d183ece17d8d7fe49c15c7',
  'sebastian/recursion-context' => '4.0.4@cd9d8cf3c5804de4341c283ed787f099f5506172',
  'sebastian/resource-operations' => 'dev-master@0f4443cb3a1d92ce809899753bc0d5d5a8dd19a8',
  'sebastian/type' => '2.3.x-dev@f24cbc541026c3bb7d27c647f0f9ea337135b22a',
  'sebastian/version' => '3.0.x-dev@c6c1022351a901512170118436c764e473f6de8c',
  'symfony/asset' => '5.2.x-dev@abe64fee9fa2978c730c84d0d6df760f2d9ddba0',
  'symfony/browser-kit' => '5.4.x-dev@d250db364a35ba5d60626b2a6f10f2eaf2073bde',
  'symfony/config' => '5.4.x-dev@f8148c2e1e23ea6c7ee50f53242067c2af9a50e1',
  'symfony/console' => '5.2.x-dev@ffc2722adb0983451855c794c4bc7818d3c65fa2',
  'symfony/dependency-injection' => '5.4.x-dev@9b54d758ec1a63c21a2a725601fa4fda79a0908c',
  'symfony/deprecation-contracts' => '2.5.x-dev@6f981ee24cf69ee7ce9736146d1c57c2780598a8',
  'symfony/dom-crawler' => '5.4.x-dev@98c4a5a22e0565ff54e523c213f8e47e756501a6',
  'symfony/dotenv' => '5.2.x-dev@12888c9c46ac750ec5c1381db5bf3d534e7d70cb',
  'symfony/error-handler' => '5.4.x-dev@91eb974ecb7cb2dac0520af5e16a6d75b7970a96',
  'symfony/event-dispatcher' => '5.4.x-dev@ac2f062e33c4bb8338cf01fd981baed0028f46cb',
  'symfony/event-dispatcher-contracts' => '2.5.x-dev@66bea3b09be61613cd3b4043a65a8ec48cfa6d2a',
  'symfony/filesystem' => '5.4.x-dev@731f917dc31edcffec2c6a777f3698c33bea8f01',
  'symfony/http-client' => '5.4.x-dev@714059cdb5078cf4be203263ee145fbbca7493e8',
  'symfony/http-client-contracts' => '2.5.x-dev@7a2f0112e6d9f2be69e3bc9ce59c8d9dfe7f96ca',
  'symfony/http-foundation' => '5.4.x-dev@2f128ab8d75069592c8586472acb996ea210bea2',
  'symfony/http-kernel' => '5.4.x-dev@a9f8989b3c7f632f50665b71f90d5b4f91c08f15',
  'symfony/monolog-bridge' => '5.4.x-dev@60ec9df33e0fc82ab2673cfde802252a01bfe448',
  'symfony/monolog-bundle' => 'dev-master@92bd02cc10c40605ff5b4cea88a2911e421aed6b',
  'symfony/panther' => 'v1.1.1@e53feac1df95f2022979e86f40b2540306581c3c',
  'symfony/password-hasher' => '5.4.x-dev@60c4aba11e2ce4140a5a9cbc13733da4b8333e2d',
  'symfony/polyfill-ctype' => 'dev-main@30885182c981ab175d4d034db0f6f469898070ab',
  'symfony/polyfill-intl-grapheme' => 'dev-main@5911fe42c266a5917aef12e45fbd3a640a9e3b18',
  'symfony/polyfill-intl-normalizer' => 'dev-main@8590a5f561694770bdcd3f9b5c69dde6945028e8',
  'symfony/polyfill-mbstring' => 'dev-main@11b9acb5e8619aef6455735debf77dde8825795c',
  'symfony/polyfill-php72' => 'dev-main@9a142215a36a3888e30d0a9eeea9766764e96976',
  'symfony/polyfill-php73' => 'dev-main@cc5db0e22b3cb4111010e48785a97f670b350ca5',
  'symfony/polyfill-php80' => 'dev-main@57b712b08eddb97c762a8caa32c84e037892d2e9',
  'symfony/polyfill-php81' => 'dev-main@5de4ba2d41b15f9bd0e19b2ab9674135813ec98f',
  'symfony/process' => '5.2.x-dev@d16634ee55b895bd85ec714dadc58e4428ecf030',
  'symfony/property-access' => '5.2.x-dev@82c6db3e4066ebc1993c377ae71090d0c8f0552c',
  'symfony/property-info' => '5.2.x-dev@f9dd1886f47db8ea494d97a4b8bfa494094f53f1',
  'symfony/proxy-manager-bridge' => '5.2.x-dev@76e61f33f6a34a340bf6e02211214f466e8e1dba',
  'symfony/psr-http-message-bridge' => 'dev-main@df83a380f56e7bf5af615f851f3cb3d996f3d7c9',
  'symfony/security-bundle' => '5.2.x-dev@bc36546f36355d7c0b56b23c44786b36904f838d',
  'symfony/security-core' => '5.4.x-dev@dd2f0d043b654c3e24300b0381be5563a1d6aa5e',
  'symfony/security-csrf' => '5.4.x-dev@06c10c6f426dbc163d43fd1c0518f4b48b5188c1',
  'symfony/security-guard' => 'v5.3.0-BETA4@732917baae3e226f4683a72bea46743a357040f5',
  'symfony/security-http' => '5.2.x-dev@8d6fb4fb1bb0d4a11b30de85cbf77914c71175bc',
  'symfony/serializer' => '5.2.x-dev@3c3afcc285c01c486d1c5504e7895026580495c4',
  'symfony/service-contracts' => '2.5.x-dev@56b990c18120c91eaf0d38a93fabfa2a1f7fa413',
  'symfony/string' => '5.2.x-dev@ab6dc1c796bbceffbaf9ccbfb7a24feb641d6ee7',
  'symfony/translation-contracts' => '2.5.x-dev@6e2aa82901f45c38761ba61c1082584ae6f5dbda',
  'symfony/validator' => '5.2.x-dev@a46ac85624ad3418d455bb8f4ce452014c28518c',
  'symfony/var-dumper' => '5.4.x-dev@d9d1e522d6178b4e453677b3bae5106b00aa0554',
  'symfony/web-link' => '5.2.x-dev@3d1f4a0318314c63c363f5d49de15d54780b2079',
  'symfony/yaml' => '5.2.x-dev@ffe9c92e1a6c77c3ad5fc3a2ac16f0b8549dae10',
  'theseer/tokenizer' => '1.2.1@34a41e998c2183e22995f158c581e7b5e755ab9e',
  'webmozart/assert' => 'dev-master@b419d648592b0b8911cbbe10d450fe314f4fd262',
  'cadot.info/symfony-testing-tools' => '1.0.0@',
);

    private function __construct()
    {
    }

    /**
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function rootPackageName() : string
    {
        if (!self::composer2ApiUsable()) {
            return self::ROOT_PACKAGE_NAME;
        }

        return InstalledVersions::getRootPackage()['name'];
    }

    /**
     * @throws OutOfBoundsException If a version cannot be located.
     *
     * @psalm-param key-of<self::VERSIONS> $packageName
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function getVersion(string $packageName): string
    {
        if (self::composer2ApiUsable()) {
            return InstalledVersions::getPrettyVersion($packageName)
                . '@' . InstalledVersions::getReference($packageName);
        }

        if (isset(self::VERSIONS[$packageName])) {
            return self::VERSIONS[$packageName];
        }

        throw new OutOfBoundsException(
            'Required package "' . $packageName . '" is not installed: check your ./vendor/composer/installed.json and/or ./composer.lock files'
        );
    }

    private static function composer2ApiUsable(): bool
    {
        if (!class_exists(InstalledVersions::class, false)) {
            return false;
        }

        if (method_exists(InstalledVersions::class, 'getAllRawData')) {
            $rawData = InstalledVersions::getAllRawData();
            if (count($rawData) === 1 && count($rawData[0]) === 0) {
                return false;
            }
        } else {
            $rawData = InstalledVersions::getRawData();
            if ($rawData === null || $rawData === []) {
                return false;
            }
        }

        return true;
    }
}
